<?xml version="1.0" encoding="utf-8"?>
<s:VGroup xmlns:fx="http://ns.adobe.com/mxml/2009" 
		 xmlns:s="library://ns.adobe.com/flex/spark" 
		 xmlns:mx="library://ns.adobe.com/flex/mx"
		 creationComplete="onInit()" xmlns:local="*">
	<fx:Declarations>
		<s:CurrencyFormatter id="formatter" useCurrencySymbol="true"/>
	</fx:Declarations>
	<s:TileGroup id="itemButtons" horizontalGap="1" verticalGap="1"/>
	<local:OrderList id="order" width="100%" height="100%"/>
	<fx:Script>
		<![CDATA[
			import spark.components.Button;
			
			import ui.MultilineButtonSkin;
			private function onInit():void
			{
				for each (var item:Object in Data.instance.items)
				{
					var button:Button = new Button;
					button.setStyle("skinClass", MultilineButtonSkin);
					button.label = item.name + "\n" + formatter.format(item.price);
					button.height = 100;
					button.width = 100;
					button.name = item.id;
					button.addEventListener(MouseEvent.CLICK, onItem, false, 0, true);

					itemButtons.addElement(button);
				}
			}
			private function onItem(e:Event):void
			{
				for each (var item:Object in Data.instance.items.source)
				{
					if (item.id == parseInt(e.target.name))
					{
						order.addItem(item);
						break;
					}
				}
			}
		]]>
	</fx:Script>
</s:VGroup>
